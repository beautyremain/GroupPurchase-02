<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>REGISTER</title>
 
  <link rel="stylesheet" href="css/reset.css" /> 
  <link rel="stylesheet" href="css/MyCss2.css" />
	 <script src="../../js/jquery-2.1.0.js"></script>
 </head>
 <body>
 	<div id="head">
		<p>Welcome  to  Cjk's  Website</p>
	</div>
	<div id="content" class="w">
		<div id='notice'>   请输入不包括单，双引号，不只含有数字1且共少于20个字的信息</div>
	 	<div class='w2' id="base_div">
		  	<form method="post" action="http://localhost:8021/register/register" onsubmit="return checkPwd()">
				<input type="button" id="check" name="check" value="check" onclick="newClick()"/>
		  		NAME:<input class="textInput" type="text" name="user_name" />
				PASSWORD: <input class="textInput" type="password" id="password" name="password" />
				CONFRIM_PASSWORD: <input class="textInput" type="password" name="c_password" id="c_password" />
				ADDRESS:  <input class="textInput" type="text" name="address" />
				<input type="submit" id="reg" name="submit" value="→register!" />

		
			</form>
	  	</div>
	  	<div id="tips">注：此处注册的账户为买家账户，如果需要注册卖家账号，请与管理员联系。</div>
	</div>
  <a href='log_in.html' style="font-size:50px;margin-left: 60%;">back to the log in page.</a>
 <script type="application/javascript">
		 function newClick() {
			console.log("click");
			if($('[name="user_name"]').val()==""){
				alert("字段不足")
				return
			}
			$.ajax({
				method:"get",
				url:"http://localhost:8021/register/check",
				data:{
					"name":$('[name="user_name"]').val()
				},
				success:function (e) {
					if(e){
						alert("此用户名已被注册")
					}else {
						alert("可以使用")
					}
				}
			})
		 }
		 $("#password").innerText
		function checkPwd(){
			if($('[name="user_name"]').val()==""||$("#password").val()==""||$("#c_password").val()==""||$('[name="address"]').val()==""){
				alert("字段不足")
				return false;
			}
			if($("#password").val()!=$("#c_password").val()){
				alert("两次密码不同");
				return false;
			}
			return true;
		}
 </script>
 </body>
</html>
